<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="container">
    <div th:each="entry : ${dialogue}">
        <h3 th:text="'Диалог с: ' + ${entry.key.firstName}"></h3>
        <img th:src="@{${entry.key.imagePath}}" alt="User image" width="200">
        <ul>
            <li th:each="msg : ${entry.value}">
                <strong th:text="'From: ' + ${msg.userFrom} + ' → To: ' + ${msg.userTo}"></strong>
                <p th:text="${msg.message} + '     ' + ${msg.exactTime}"></p>
            </li>
        </ul>
        <form th:action="@{'/chat/' + ${entry.key.id}}" method="post">

            <label for="message">Message:</label>
            <input type="text" id="message" name="message" required><br><br>

            <button type="submit" class="button"><p class="button-text">send</p></button>
        </form>
    </div>
    <a href="/chat">Back to chat</a>

</div>
<script>
    setInterval(() => window.location.reload(), 20000);
</script>

</body>
</html>